<section class="container about" *ngIf="project">
  <h2 class="title">{{title}}</h2>

  <div class="messages">
  <div class="message success" *ngIf="status == 'success'">
    El proyecto se ha guardado correctamente <span><a [routerLink]="['/proyecto',save_project._id]">Aquí</a></span>
  </div>
  <div class="message failed" *ngIf="status == 'failed'">
    El proyecto no se ha podido guardar
  </div>
</div>


  <div class="form-new-project">
    <form #projectForm="ngForm" (ngSubmit)="onSubmit(projectForm)">


      <div class="row">
        <div class="col-25">
          <label for="name">Nombre</label>
        </div>
        <div class="col-75">
          <input type="text" name="name" #name="ngModel" [(ngModel)]="project.name" required>
          <span *ngIf="name.touched && !name.valid">El nombre es obligatorio</span>
        </div>
      </div>

      <div class="row">
        <div class="col-25">
          <label for="descripcion">Descripcion</label>
        </div>
        <div class="col-75">
          <textarea name="descripcion" #descripcion="ngModel" [(ngModel)]="project.descripcion" required></textarea>
          <span *ngIf="descripcion.touched && !descripcion.valid">La descripción es obligatoria</span>
        </div>
      </div>

      <div class="row">
        <div class="col-25">
          <label for="category">Categoria</label>
        </div>
        <div class="col-75">
          <input type="text" name="category" #category="ngModel" [(ngModel)]="project.category" required>
          <span *ngIf="category.touched && !category.valid">La categoria es obligatoria</span>
        </div>
      </div>

      <div class="row">
        <div class="col-25">
          <label for="year">Año</label>
        </div>
        <div class="col-75">
          <input type="text" name="year" #year="ngModel" [(ngModel)]="project.year" >
        </div>
      </div>

      <div class="row">
        <div class="col-25">
          <label for="langs">Lenguajes</label>
        </div>
        <div class="col-75">
          <input type="text" name="langs" #langs="ngModel" [(ngModel)]="project.langs" required>
          <span *ngIf="langs.touched && !langs.valid">Los lenguajes son obligatorios</span>
        </div>
      </div>

      <div class="row">
        <div class="col-25">
          <label for="image">Imagen</label>
        </div>
        <div class="col-75">
          <input type="file" name="image" placeholder="Subir Imagen" (change)="fileChangeEvent($event)" >
        </div>
      </div>

      <div class="row">
        <input type="submit" value="Guardar" [disabled]="!projectForm.form.valid">
      </div>
    </form>
  </div>
</section>
